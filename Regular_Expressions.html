<!DOCTYPE HTML><html lang=en class="sidebar-visible no-js light"><head><meta charset=UTF-8><title>Regular Expressions - Vim reference guide</title><meta content="text/html; charset=utf-8"http-equiv=Content-Type><meta name=description content="Vim reference guide"><meta name=viewport content="width=device-width, initial-scale=1"><meta name=theme-color content=#ffffff><link rel=icon href=favicon.svg><link rel="shortcut icon"href=favicon.png><link rel=stylesheet href=css/variables.css><link rel=stylesheet href=css/general.css><link rel=stylesheet href=css/chrome.css><link rel=stylesheet href=FontAwesome/css/font-awesome.css><link rel=stylesheet href=fonts/fonts.css><link rel=stylesheet href=highlight.css><link rel=stylesheet href=tomorrow-night.css><link rel=stylesheet href=ayu-highlight.css><link rel=stylesheet href=style.css><body><script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script><script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script><script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script><script>
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script><nav id=sidebar class=sidebar aria-label="Table of contents"><div class=sidebar-scrollbox><ol class=chapter><li class="chapter-item expanded affix"><a href=preface.html>Preface</a><li class="chapter-item expanded"><a href=Introduction.html><strong aria-hidden=true>1.</strong> Introduction</a><li class="chapter-item expanded"><a href=Normal_mode.html><strong aria-hidden=true>2.</strong> Normal mode</a><li class="chapter-item expanded"><a href=Command_Line_mode.html><strong aria-hidden=true>3.</strong> Command Line mode</a><li class="chapter-item expanded"><a href=Visual_mode.html><strong aria-hidden=true>4.</strong> Visual mode</a><li class="chapter-item expanded"><a href=Regular_Expressions.html class=active><strong aria-hidden=true>5.</strong> Regular Expressions</a><li class="chapter-item expanded"><a href=Recording_Macro.html><strong aria-hidden=true>6.</strong> Recording Macro</a><li class="chapter-item expanded"><a href=Customizing_vim.html><strong aria-hidden=true>7.</strong> Customizing vim</a></li><br><hr><li class="chapter-item expanded"><i id=git-repository-button class="fa fa-github"></i><a href=https://github.com/learnbyexample/vim_reference>   Source code</a><li class="chapter-item expanded"><i id=home-button class="fa fa-home"></i><a href=https://learnbyexample.github.io/>   My Blog</a><li class="chapter-item expanded"><i id=book-button class="fa fa-book"></i><a href=https://learnbyexample.github.io/books/>   My Books</a><li class="chapter-item expanded"><i id=mail-button class="fa fa-envelope"></i><a href=https://learnbyexample.gumroad.com/l/learnbyexample-weekly>   learnbyexample weekly</a></ol></div><div id=sidebar-resize-handle class=sidebar-resize-handle></div></nav><div id=page-wrapper class=page-wrapper><div class=page><div id=menu-bar-hover-placeholder></div><div id=menu-bar class="menu-bar sticky bordered"><div class=left-buttons><button id=sidebar-toggle class=icon-button type=button title="Toggle Table of Contents"aria-label="Toggle Table of Contents"aria-controls=sidebar><i class="fa fa-bars"></i></button><button id=theme-toggle class=icon-button type=button title="Change theme"aria-label="Change theme"aria-haspopup=true aria-expanded=false aria-controls=theme-list><i class="fa fa-paint-brush"></i></button><ul id=theme-list class=theme-popup aria-label=Themes role=menu><li role=none><button role=menuitem class=theme id=light>Light (default)</button><li role=none><button role=menuitem class=theme id=rust>Rust</button><li role=none><button role=menuitem class=theme id=coal>Coal</button><li role=none><button role=menuitem class=theme id=navy>Navy</button><li role=none><button role=menuitem class=theme id=ayu>Ayu</button></ul><button id=search-toggle class=icon-button type=button title="Search. (Shortkey: s)"aria-label="Toggle Searchbar"aria-expanded=false aria-keyshortcuts=S aria-controls=searchbar><i class="fa fa-search"></i></button></div><h1 class=menu-title>Vim reference guide</h1><div class=right-buttons><a href=https://learnbyexample.github.io title=Blog aria-label=Blog> <i id=home-button class="fa fa-home"></i> </a><a href=https://github.com/learnbyexample/vim_reference title="Git repository"aria-label="Git repository"> <i id=git-repository-button class="fa fa-github"></i> </a></div></div><div id=search-wrapper class=hidden><form id=searchbar-outer class=searchbar-outer><input type=search id=searchbar name=searchbar placeholder="Search this book ..."aria-controls=searchresults-outer aria-describedby=searchresults-header></form><div id=searchresults-outer class="searchresults-outer hidden"><div id=searchresults-header class=searchresults-header></div><ul id=searchresults></ul></div></div><script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script><div id=content class=content><main><div class=sidetoc><nav class=pagetoc></nav></div><h1 id=regular-expressions><a class=header href=#regular-expressions>Regular Expressions</a></h1><p>This chapter will discuss regular expressions (regexp) and related features in detail. As mentioned before:<ul><li><code>/searchpattern</code> search the given pattern in the forward direction<li><code>?searchpattern</code> search the given pattern in the backward direction<li><code>:range s/searchpattern/replacestring/flags</code> search and replace <ul><li><code>s</code> is the short form for <code>substitute</code> command<li>the second delimiter is optional if you are not using flags</ul></ul><h2 id=flags><a class=header href=#flags>Flags</a></h2><ul><li><code>g</code> replace all occurrences within a matching line <ul><li>by default, only the first matching portion will be replaced</ul><li><code>c</code> ask for confirmation before each replacement<li><code>i</code> ignore case for <code>searchpattern</code><li><code>I</code> don't ignore case for <code>searchpattern</code></ul><p>Flags can be combined, for example:<ul><li><code>s/cat/Dog/gi</code> replace every occurrence of <code>cat</code> with <code>Dog</code> <ul><li>ignores case, so <code>Cat</code>, <code>cAt</code>, <code>CAT</code>, etc will also be replaced<li>Note that <code>i</code> doesn't affect the case of the replacement string</ul></ul><blockquote><p><img src=./images/info.svg alt=info> See <code>:h s_flags</code> for more details.</blockquote><h2 id=anchors-and-dot-metacharacter><a class=header href=#anchors-and-dot-metacharacter>Anchors and dot metacharacter</a></h2><ul><li><code>^</code> restricts the match to the start of line <ul><li><code>^This</code> matches <code>This is a sample</code> but not <code>Do This</code></ul><li><code>$</code> restricts the match to the end of line <ul><li><code>)$</code> matches <code>apple (5)</code> but not <code>def greeting():</code></ul><li><code>^$</code> match empty line<li><code>\&LTpattern</code> restricts the match to the start of a word <ul><li>word characters: alphabets, digits, underscore<li><code>\&LThis</code> matches <code>his</code> or <code>to-his</code> or <code>history</code> but not <code>this</code> or <code>_hist</code></ul><li><code>pattern\></code> restricts the match to the end of a word <ul><li><code>his\></code> matches <code>his</code> or <code>to-his</code> or <code>this</code> but not <code>history</code> or <code>_hist</code></ul><li><code>\&LTpattern\></code> restricts the match between start of a word and end of a word <ul><li><code>\&LThis\></code> matches <code>his</code> or <code>to-his</code> but not <code>this</code> or <code>history</code> or <code>_hist</code></ul><li><code>.</code> match any single character other than the newline character <ul><li><code>c.t</code> matches <code>cat</code> or <code>cot</code> or <code>c2t</code> or <code>c^t</code> but not <code>cant</code> or <code>act</code> or <code>sit</code></ul></ul><blockquote><p><img src=./images/info.svg alt=info> See <code>:h pattern-atoms</code> for more details.</blockquote><h2 id=greedy-quantifiers><a class=header href=#greedy-quantifiers>Greedy Quantifiers</a></h2><p>Quantifiers can be applied to literal characters, groups, backreferences and character classes. Greedy quantifiers will consume as <em>much</em> as possible, provided the overall pattern is also matched.<ul><li><code>*</code> match zero or more times <ul><li><code>abc*</code> matches <code>ab</code> or <code>abc</code> or <code>abccc</code> or <code>abcccccc</code> but not <code>bc</code></ul><li><code>\+</code> match one or more times <ul><li><code>abc\+</code> matches <code>abc</code> or <code>abccc</code> but not <code>ab</code> or <code>bc</code></ul><li><code>\?</code> match zero or one times <ul><li><code>\=</code> can also be used<li><code>abc\?</code> matches <code>ab</code> or <code>abc</code>. This will match <code>abccc</code> or <code>abcccccc</code> as well, but only the <code>abc</code> portion<li><code>s/abc\?/X/</code> replaces <code>abcc</code> with <code>Xc</code></ul><li><code>\{m,n}</code> match <code>m</code> to <code>n</code> times (inclusive) <ul><li><code>ab\{1,4}c</code> matches <code>abc</code> or <code>abbc</code> or <code>xabbbcz</code> but not <code>ab</code> or <code>abbbbbc</code></ul><li><code>\{m,}</code> match at least <code>m</code> times <ul><li><code>ab\{3,}c</code> matches <code>xabbbcz</code> or <code>abbbbbc</code> but not <code>ab</code> or <code>abc</code> or <code>abbc</code></ul><li><code>\{,n}</code> match up to <code>n</code> times (including <code>0</code> times) <ul><li><code>ab\{,2}c</code> matches <code>abc</code> or <code>ac</code> or <code>abbc</code> but not <code>xabbbcz</code> or <code>abbbbbc</code></ul><li><code>\{n}</code> match exactly <code>n</code> times <ul><li><code>ab\{3}c</code> matches <code>xabbbcz</code> but not <code>abbc</code> or <code>abbbbbc</code></ul></ul><blockquote><p><img src=./images/info.svg alt=info> See <code>:h pattern-overview</code> for more details.</blockquote><h2 id=non-greedy-quantifiers><a class=header href=#non-greedy-quantifiers>Non-greedy Quantifiers</a></h2><p>Non-greedy quantifiers match as <em>minimally</em> as possible.<ul><li><code>\{-}</code> match zero or more times as minimally as possible <ul><li><code>s/t.\{-}a/X/g</code> replaces <code>that is quite a fabricated tale</code> with <code>XX fabricaXle</code> <ul><li>the matching portions are <code>tha</code>, <code>t is quite a</code> and <code>ted ta</code></ul><li><code>s/t.*a/X/g</code> replaces <code>that is quite a fabricated tale</code> with <code>Xle</code> since <code>*</code> is greedy</ul><li><code>\{-m,n}</code> match <code>m</code> to <code>n</code> times as minimally as possible <ul><li><code>m</code> or <code>n</code> can be left out as seen in the Greedy Quantifiers section<li><code>s/.\{-2,5}/X/</code> replaces <code>123456789</code> with <code>X3456789</code> (here <code>.</code> matched 2 times)<li><code>s/.\{-2,5}6/X/</code> replaces <code>123456789</code> with <code>X789</code> (here <code>.</code> matched 5 times to satisfy overall pattern)</ul></ul><blockquote><p><img src=./images/info.svg alt=info> See <code>:h pattern-overview</code> and <a href=https://stackoverflow.com/q/1305853/4082052>stackoverflow: non-greedy matching</a> for more details.</blockquote><h2 id=character-classes><a class=header href=#character-classes>Character Classes</a></h2><ul><li><code>[aeiou]</code> match any lowercase vowel character<li><code>[^aeiou]</code> match any character other than lowercase vowels<li><code>[a-d]</code> match any of <code>a</code> or <code>b</code> or <code>c</code> or <code>d</code> <ul><li>the range metacharacter <code>-</code> can be applied between any two characters</ul><li><code>\a</code> match any alphabet character <code>[a-zA-Z]</code><li><code>\A</code> match other than alphabets <code>[^a-zA-Z]</code><li><code>\l</code> match lowercase alphabets <code>[a-z]</code><li><code>\L</code> match other than lowercase alphabets <code>[^a-z]</code><li><code>\u</code> match uppercase alphabets <code>[A-Z]</code><li><code>\U</code> match other than uppercase alphabets <code>[^A-Z]</code><li><code>\d</code> match any digit character <code>[0-9]</code><li><code>\D</code> match other than digits <code>[^0-9]</code><li><code>\o</code> match any octal character <code>[0-7]</code><li><code>\O</code> match other than octals <code>[^0-7]</code><li><code>\x</code> match any hexademical character <code>[0-9a-fA-F]</code><li><code>\X</code> match other than hexademicals <code>[^0-9a-fA-F]</code><li><code>\w</code> match any word character (alphabets, digits, underscore) <code>[a-zA-Z0-9_]</code><li><code>\W</code> match other than word characters <code>[^a-zA-Z0-9_]</code><li><code>\s</code> match space and tab characters <code>[ \t]</code><li><code>\S</code> match other than space and tab characters <code>[^ \t]</code></ul><blockquote><p><img src=./images/info.svg alt=info> See <code>:h character-classes</code> for more details.</blockquote><h2 id=alternation-and-grouping><a class=header href=#alternation-and-grouping>Alternation and Grouping</a></h2><ul><li><code>\|</code> match either of the specified patterns <ul><li>each alternative can have independent anchors<li><code>min\|max</code> match <code>min</code> or <code>max</code><li><code>one\|two\|three</code> match <code>one</code> or <code>two</code> or <code>three</code></ul><li><code>\(pattern\)</code> group a pattern to apply quantifiers, create a terser regexp by taking out common elements, etc <ul><li><code>a\(123\|456\)b</code> is equivalent to <code>a123b\|a456b</code><li><code>hand\(y\|ful\)</code> match <code>handy</code> or <code>handful</code><li><code>\(to\)\+</code> match <code>to</code> or <code>toto</code> or <code>tototo</code> and so on<li><code>re\(leas\|ceiv\)\?ed</code> match <code>reed</code> or <code>released</code> or <code>received</code></ul></ul><h2 id=backreference><a class=header href=#backreference>Backreference</a></h2><ul><li><code>\(pattern\)</code> capture group for later use via backreferences<li>leftmost <code>\(</code> is group <code>1</code>, second leftmost <code>\(</code> is group <code>2</code> and so on <ul><li>maximum <code>9</code> groups</ul><li><code>\1</code> backreference to the first capture group<li><code>\2</code> backreference to the second capture group<li><code>\9</code> backreference to the ninth capture group<li><code>&</code> or <code>\0</code> backreference to the entire matched portion</ul><p>Here's some examples:<ul><li><code>\(\a\)\1</code> match two consecutive repeated alphabets like <code>ee</code>, <code>tt</code>, <code>oo</code> and so on<li><code>\(\a\)\1\+</code> match two or more consecutive repeated alphabets like <code>ee</code>, <code>ttttt</code>, <code>oooooooo</code> and so on<li><code>s/\d\+/(&)/g</code> replaces <code>52 apples 31 mangoes</code> with <code>(52) apples (31) mangoes</code><li><code>s/\(\w\+\),\(\w\+\)/\2,\1/g</code> replaces <code>good,bad 42,24</code> with <code>bad,good 24,42</code><li><code>s/\(_\)\?_/\1/g</code> replaces <code>_foo_ __123__ _baz_</code> with <code>foo _123_ baz</code></ul><h2 id=search-pattern-modifiers><a class=header href=#search-pattern-modifiers>Search Pattern modifiers</a></h2><ul><li><p><code>\v</code> helps to avoid <code>\</code> for pattern qualifiers, grouping pattern, etc</p> <ul><li><code>\vc{5}</code> match exactly <code>ccccc</code><li><code>\vabc+</code> match <code>abc</code> or <code>abccc</code> but not <code>ab</code><li><code>\vabc?</code> match <code>ab</code> or <code>abc</code> but not <code>abcc</code><li><code>\v&LThis></code> match whole word <code>his</code>, not <code>this</code> or <code>history</code><li><code>\vmin|max</code> match <code>min</code> or <code>max</code><li><code>\vhand(y|ful)</code> match <code>handy</code> or <code>handful</code><li><code>\v(\a)\1</code> match repeated alphabets<li><code>s/\v(\d+) (\d+)/\2 \1/</code> swap two numbers separated by space</ul><li><p><code>\V</code> no need to use <code>\</code> when trying to match special characters</p> <ul><li><code>\V^.*$</code> match the exact sequence <code>^.*$</code></ul><li><p><code>\c</code> case insensitive search</p> <ul><li><code>\cthis</code> matches <code>this</code>, <code>This</code>, <code>thiS</code>, etc</ul><li><p><code>\C</code> case sensitive search</p> <ul><li><code>\Cthis</code> match exactly <code>this</code>, not <code>This</code>, <code>thiS</code>, etc</ul><li><p><code>\%V</code> only inside visually selected area</p> <ul><li><code>s/\%Vcat/dog/g</code> replace <code>cat</code> with <code>dog</code> only in visually selected region</ul></ul><p>For more info<ul><li><code>:h /magic</code><li><a href=http://andrewradev.com/2011/05/08/vim-regexes/>Magicness in Vim regex</a><li><a href=https://stackoverflow.com/q/2287440/4082052>Excellent examples and other Vim settings on case sensitivity</a></ul><h2 id=changing-case><a class=header href=#changing-case>Changing Case</a></h2><p>These are used in the replacestring section<ul><li><code>\u</code> uppercases the next character<li><code>\U</code> UPPERCASES the following characters<li><code>\l</code> and <code>\L</code> are equivalent for lowercase<li>use <code>\e</code> and <code>\E</code> to end further case changes</ul><p>Example:<ul><li><code>:% s/\v(\a+)/\u\1/g</code> will Capitalize all the words in current file (i.e only first character of word is capitalized)<li><code>:% s/\v(\a+)/\U\1/g</code> will change to all letters to UPPERCASE in current file<li><code>:% s/\v(\w)_(\a+)/\1\u\2/g</code> change variable_name to camelCase <ul><li>for ex: <code>min_max</code> will change to <code>minMax</code>, <code>array_sum</code> will change to <code>arraySum</code> and so on</ul><li><a href=https://stackoverflow.com/q/17440659/4082052>Changing case with regular expressions</a></ul><h2 id=alternate-delimiters><a class=header href=#alternate-delimiters>Alternate delimiters</a></h2><p>One can also use other characters like <code>#^$</code> instead of <code>/</code><ul><li><code>:% s#/project/adder/#/verilog/project/high_speed_adder/#g</code> this avoids the mess of having to use <code>\/</code> for every <code>/</code> character</ul><h2 id=further-reading><a class=header href=#further-reading>Further Reading</a></h2><ul><li><code>:h regular-expression</code><li><a href=http://vimregex.com/>vimregex</a><li><a href=https://stackoverflow.com/q/22937618/4082052>What does this regex mean?</a></ul></main><nav class=nav-wrapper aria-label="Page navigation"><a rel=prev href=Visual_mode.html class="mobile-nav-chapters previous"title="Previous chapter"aria-label="Previous chapter"aria-keyshortcuts=Left> <i class="fa fa-angle-left"></i> </a><a rel=next href=Recording_Macro.html class="mobile-nav-chapters next"title="Next chapter"aria-label="Next chapter"aria-keyshortcuts=Right> <i class="fa fa-angle-right"></i> </a><div style="clear: both"></div></nav></div></div><nav class=nav-wide-wrapper aria-label="Page navigation"><a rel=prev href=Visual_mode.html class="nav-chapters previous"title="Previous chapter"aria-label="Previous chapter"aria-keyshortcuts=Left> <i class="fa fa-angle-left"></i> </a><a rel=next href=Recording_Macro.html class="nav-chapters next"title="Next chapter"aria-label="Next chapter"aria-keyshortcuts=Right> <i class="fa fa-angle-right"></i> </a></nav></div><script>
            window.playground_copyable = true;
        </script><script src=elasticlunr.min.js charset=utf-8></script><script src=mark.min.js charset=utf-8></script><script src=searcher.js charset=utf-8></script><script src=clipboard.min.js charset=utf-8></script><script src=highlight.js charset=utf-8></script><script src=book.js charset=utf-8></script><script src=sidebar.js></script>